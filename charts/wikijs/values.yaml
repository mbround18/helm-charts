global:
  secret:
    annotations: {}

replicaCount: 1
image:
  repository: ghcr.io/requarks/wiki
  tag: 2.5.311
  pullPolicy: IfNotPresent
resources: {}
service:
  type: ClusterIP
  port: 3000
ingress:
  enabled: false
  hosts:
    - wikijs.local
  # Kubernetes Ingress only; Istio is configured via the istio-ingress subchart below
istio-ingress:
  enabled: false
  virtualService:
    enabled: true
    hosts:
      - "wikijs.local"
    route:
      # The host and port targets are set dynamically in templates/00-merge-istio-routes.yaml
      host: wikijs
      port: 3000
  gateway:
    enabled: true
    selector:
      istio: ingress
    servers:
      - port:
          number: 80
          protocol: HTTP
          name: http
        hosts:
          - "*"
  tls:
    enabled: false
    mode: SIMPLE
    credentialName: ""
    httpsRedirect: false
meilisearch:
  # Dependency is available but disabled by default. Uncomment to enable and override.
  # enabled: true
  enabled: false
  image:
    repository: getmeili/meilisearch
    tag: v1.32.0
    pullPolicy: IfNotPresent
  copyImage:
    repository: mbround18/wikijs-meilisearch-module
    tag: sha-7ae9ce1
    pullPolicy: IfNotPresent
  secrets:
    masterKey:
      name: meilisearch-master-key
      key: MEILI_MASTER_KEY
      create: true
  resources: {}
  persistence:
    enabled: true
    accessMode: ReadWriteOnce
    size: 10Gi
  service:
    type: ClusterIP
    port: 7700
  provisioning:
    enabled: true
    indexSecret: meilisearch-wikijs-data
    apiKeyDescription: "Wiki.js API Key"
    apiKeyActions: ["*"]
    apiKeyIndexes: ["*"]

postgres:
  enabled: true
  authMethod: scram-sha-256
  secrets:
    password:
      name: postgres-password
      key: POSTGRES_PASSWORD
      create: true
    superuserPassword:
      name: postgres-superuser-password
      key: POSTGRES_PASSWORD
      create: true
  ha:
    enabled: false
  image:
    repository: postgres
    tag: "18"
    pullPolicy: IfNotPresent
  persistence:
    enabled: true
    accessMode: ReadWriteOnce
    size: 10Gi
  postgresql:
    db: wikijs
    user: wikijs
